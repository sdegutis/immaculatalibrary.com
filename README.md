# Immaculata Library

*Custom TypeScript SSG*

(The code that creates https://www.immaculatalibrary.com/)

---

### Goals

* Be the simplest and fastest SSG that I could make.
* Be fun to use, not difficult or frustrating.
* Be able to innovate right when ideas come up.

### Run locally

1. `npm install`
2. Open in VS Code
3. F5 (run in debugger)
4. Open http://localhost:8080/

### Features

1. Use efficient file hot-reloading
2. Use TypeScript for everything
3. Use full power of VS Code
4. Use JSX for all views/templating
5. Use JSX directly without framework
6. Use no magic except custom JSX
7. Use `import` to read data files

* TypeScript
  * SSG-side and browser-side have same types
  * SSG-side and browser-side can share modules
* Builds entire site in ~900ms
  * Rebuilds most changes in ~90ms
* Custom JSX
  * Renders as strings in SSG (for SEO)
  * Renders as `document.createElement` in browser

### File structure

* [runtime/](runtime/): Custom runtime for hot-reloading, custom JSX, and importing data dirs.
* [site/](site/): The site itself
* [site/index.html.tsx](site/index.html.tsx): The home page (example of single page)
* [site/books/[book].html.tsx](site/books/[book].html.tsx): The page for each book (example of pages generated by an array)
* [site/core/main.ts](site/core/main.ts): The entry point to the site, to build it yourself
* [site/core/$jsx.ts](site/core/$jsx.ts): Browser-side JSX implementation
* [site/core/jsx.ts](site/core/jsx.ts): SSG-side JSX implementation

### Sample run

```
C:\Program Files\nodejs\node.exe .\out\main.js
Running on http://localhost:8080
Time: 649 ms
Rebuilding site...
Time: 84 ms
Done.
```

### File breakdown

```
$ scc
───────────────────────────────────────────────────────────────────────────────
Language                 Files     Lines   Blanks  Comments     Code Complexity
───────────────────────────────────────────────────────────────────────────────
Markdown                  1415     42416     3919         0    38497          0
TypeScript                 110      6027      881        16     5130        484
CSS                         24      1188      197         9      982          0
JSON                         7      1702        0         0     1702          0
TypeScript Typings           1        33        5         0       28          5
YAML                         1        63       12         6       45          0
gitignore                    1         4        0         0        4          0
───────────────────────────────────────────────────────────────────────────────
Total                     1559     51433     5014        31    46388        489
───────────────────────────────────────────────────────────────────────────────
Estimated Cost to Develop (organic) $1,518,172
Estimated Schedule Effort (organic) 16.12 months
Estimated People Required (organic) 8.37
───────────────────────────────────────────────────────────────────────────────
Processed 4272950 bytes, 4.273 megabytes (SI)
───────────────────────────────────────────────────────────────────────────────
```
